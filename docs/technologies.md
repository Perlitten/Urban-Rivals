# Технологии и инструменты для ML-консультанта Urban Rivals

## Основные технологические стеки

### 1. Разработка расширения Chrome

#### Основные технологии:
- **JavaScript/TypeScript**: Основной язык программирования для разработки расширения
- **HTML/CSS**: Для создания пользовательского интерфейса
- **React**: Библиотека для построения интерактивных пользовательских интерфейсов
- **Redux**: Для управления состоянием приложения
- **Styled Components**: Для создания стилизованных компонентов с CSS-in-JS
- **Webpack**: Для сборки и оптимизации кода расширения

#### Обоснование выбора:
- TypeScript обеспечивает типизацию, что критично для сложной логики ML-консультанта
- React позволяет создавать модульные компоненты UI с эффективным обновлением DOM
- Redux обеспечивает предсказуемое управление состоянием в различных компонентах
- Styled Components упрощает создание адаптивного дизайна и темизацию
- Webpack оптимизирует размер бандла и ускоряет загрузку расширения

### 2. Машинное обучение и анализ данных

#### Основные технологии:
- **TensorFlow.js**: Библиотека для запуска ML-моделей в браузере
- **ONNX.js**: Для оптимизации и запуска предобученных моделей
- **ml5.js**: Высокоуровневая обертка над TensorFlow.js для упрощения работы с ML
- **D3.js**: Для создания интерактивных визуализаций и аналитики
- **Brain.js**: Легковесная библиотека для нейронных сетей в JavaScript

#### Обоснование выбора:
- TensorFlow.js позволяет запускать ML-модели непосредственно в браузере без серверной части
- ONNX.js обеспечивает совместимость с моделями, обученными в различных фреймворках
- ml5.js упрощает интеграцию базовых ML-возможностей
- D3.js предоставляет мощные инструменты для визуализации данных и аналитики
- Brain.js подходит для простых моделей с минимальными требованиями к ресурсам

### 3. Хранение и обработка данных

#### Основные технологии:
- **IndexedDB**: Для локального хранения больших объемов структурированных данных
- **LocalStorage**: Для хранения настроек и небольших объемов данных
- **Dexie.js**: Высокоуровневая обертка над IndexedDB для упрощения работы
- **PouchDB**: Для синхронизации данных между сессиями
- **Immer**: Для иммутабельного обновления состояния

#### Обоснование выбора:
- IndexedDB обеспечивает эффективное хранение больших объемов данных о картах и статистике
- LocalStorage подходит для быстрого доступа к настройкам
- Dexie.js упрощает работу с IndexedDB через удобный API
- PouchDB обеспечивает надежное хранение с возможностью синхронизации
- Immer упрощает работу с иммутабельными структурами данных

### 4. Распознавание и анализ игрового интерфейса

#### Основные технологии:
- **OpenCV.js**: Для компьютерного зрения и распознавания элементов игры
- **Tesseract.js**: Для оптического распознавания текста (OCR)
- **MutationObserver API**: Для отслеживания изменений в DOM игры
- **ResizeObserver API**: Для адаптации к изменениям размера игрового окна
- **IntersectionObserver API**: Для определения видимости элементов

#### Обоснование выбора:
- OpenCV.js предоставляет мощные алгоритмы компьютерного зрения для анализа игрового поля
- Tesseract.js позволяет распознавать текст на картах и игровых элементах
- MutationObserver API обеспечивает эффективное отслеживание изменений в игровом интерфейсе
- ResizeObserver и IntersectionObserver APIs помогают создать адаптивный интерфейс

## Инструменты разработки

### 1. Среда разработки

- **Cursor IDE**: Основная среда разработки с поддержкой AI-ассистента
- **Visual Studio Code**: Альтернативная среда разработки с богатой экосистемой расширений
- **Chrome DevTools**: Для отладки расширения в браузере
- **React Developer Tools**: Для отладки React-компонентов
- **Redux DevTools**: Для мониторинга состояния приложения

### 2. Тестирование

- **Jest**: Для модульного тестирования JavaScript/TypeScript кода
- **React Testing Library**: Для тестирования React-компонентов
- **Cypress**: Для end-to-end тестирования расширения
- **Puppeteer**: Для автоматизации тестирования в браузере
- **Lighthouse**: Для оценки производительности

### 3. Сборка и упаковка

- **Webpack**: Для сборки и оптимизации кода
- **Babel**: Для транспиляции современного JavaScript
- **ESLint**: Для статического анализа кода
- **Prettier**: Для форматирования кода
- **Chrome Extension CLI**: Для автоматизации создания структуры расширения

### 4. Управление версиями и CI/CD

- **Git**: Для управления версиями кода
- **GitHub Actions**: Для настройки CI/CD процессов
- **Semantic Versioning**: Для управления версиями расширения
- **Chrome Web Store Developer Dashboard**: Для публикации расширения

## Архитектура ML-компонента

### 1. Подход к машинному обучению

#### Локальное обучение и инференс:
- Предварительно обученные модели, загружаемые при установке расширения
- Инкрементальное обучение на устройстве пользователя для персонализации
- Использование WebWorkers для выполнения ML-операций в фоновом режиме

#### Типы моделей:
- **Классификаторы**: Для определения оптимальных карт и стратегий
- **Регрессионные модели**: Для предсказания вероятности победы
- **Рекомендательные системы**: Для подбора оптимальных колод
- **Модели временных рядов**: Для анализа динамики цен на рынке

### 2. Оптимизация для браузерной среды

- Квантизация моделей для уменьшения размера
- Использование WebAssembly для ускорения вычислений
- Кэширование результатов инференса
- Ленивая загрузка моделей по мере необходимости
- Адаптивное использование ресурсов в зависимости от мощности устройства

## Интеграция с Windows

### 1. Локальное развертывание

- Установка через Chrome Web Store для обычных пользователей
- Возможность локальной установки через режим разработчика для тестирования
- Использование стандартных API Chrome для доступа к локальным ресурсам
- Минимальные требования к системе: Windows 10/11, Chrome 88+

### 2. Оптимизация для Windows

- Эффективное использование многопоточности через Web Workers
- Адаптация к различным DPI экранов Windows
- Поддержка темной/светлой темы Windows
- Оптимизация потребления памяти и CPU

## Безопасность и конфиденциальность

### 1. Обработка данных

- Все данные хранятся и обрабатываются локально на устройстве пользователя
- Отсутствие передачи персональных данных на внешние серверы
- Шифрование чувствительных данных в локальном хранилище
- Прозрачная политика использования данных

### 2. Разрешения расширения

- Минимально необходимые разрешения для работы расширения
- Доступ только к доменам, связанным с Urban Rivals
- Отсутствие доступа к истории браузера и другим сайтам
- Детальное объяснение необходимых разрешений для пользователя

## Масштабируемость и обновления

### 1. Архитектура обновлений

- Модульная структура для легкого обновления отдельных компонентов
- Автоматическое обновление базы данных карт при выходе новых карт
- Механизм миграции данных при обновлении структуры хранилища
- A/B тестирование новых функций

### 2. Расширяемость

- API для создания пользовательских плагинов
- Возможность экспорта/импорта пользовательских стратегий
- Поддержка пользовательских тем оформления
- Система шаблонов для настройки отображения информации

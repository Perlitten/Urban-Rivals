# üõ†Ô∏è Urban Rivals ML Consultant - Troubleshooting Guide

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### 1. üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–ª–∏—Å—å –≤ –ø–∞–ø–∫–µ dist/
ls dist/
```

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã:**
- `background.js` (~13KB)
- `content.js` (~35KB) 
- `ml-worker-battle.js` (~12KB)
- `ml-worker-deck.js` (~2KB)
- `ml-worker-market.js` (~2KB)
- `manifest.json`
- `popup.html`
- `popup.js`
- –ø–∞–ø–∫–∞ `icons/`

### 2. üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤ Chrome

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Chrome**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `chrome://extensions/`**
3. **–í–∫–ª—é—á–∏—Ç–µ "–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞" (Developer mode)** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
4. **–ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ" (Load unpacked)**
5. **–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `dist/`** (–Ω–µ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞!)
6. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ —Å–ø–∏—Å–∫–µ**

### 3. üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

#### A. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
1. –í `chrome://extensions/` –Ω–∞–π–¥–∏—Ç–µ "Urban Rivals ML Consultant"
2. –ù–∞–∂–º–∏—Ç–µ **"–î–µ—Ç–∞–ª–∏"** (Details)
3. –ù–∞–∂–º–∏—Ç–µ **"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: Service Worker"** (Inspect views: Service Worker)
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools –¥–ª—è background script

#### B. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏:
```javascript
// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –≤–∏–¥–∞:
// üìã [timestamp] [INFO] [BACKGROUND::INIT] Service Worker script starting evaluation
// üìã [timestamp] [INFO] [BACKGROUND::ML_WORKERS] Starting ML Workers initialization process
```

### 4. ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### –ü—Ä–æ–±–ª–µ–º–∞: "Service Worker registration failed"
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `background.js` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `dist/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

#### –ü—Ä–æ–±–ª–µ–º–∞: "ML Workers –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è"
**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –í DevTools background script –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
console.log('ML Workers status:', mlWorkers);
console.log('Workers loaded:', mlWorkers.isLoaded);
```

#### –ü—Ä–æ–±–ª–µ–º–∞: "Content Script –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `https://www.urban-rivals.com/`
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools —Å—Ç—Ä–∞–Ω–∏—Ü—ã (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
4. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏: `üìã [timestamp] [INFO] [CONTENT::MAIN] Starting Urban Rivals ML Consultant initialization`

#### –ü—Ä–æ–±–ª–µ–º–∞: "Popup –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è"
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `popup.html` –∏ `popup.js` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `popup.js` –Ω–∞ –æ—à–∏–±–∫–∏
- –ö–ª–∏–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è ‚Üí "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å popup"

### 5. üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### A. –¢–µ—Å—Ç —á–µ—Ä–µ–∑ demo.html:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `demo.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ **"üîç –ù–∞–π—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"**
3. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ - –Ω–∞–∂–º–∏—Ç–µ **"üß™ –¢–µ—Å—Ç ML Workers"**
4. –î–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ –≤—Å–µ 4 —Ç–µ—Å—Ç–∞ —É—Å–ø–µ—à–Ω–æ

#### B. –†—É—á–Ω–æ–π —Ç–µ—Å—Ç background script:
```javascript
// –í DevTools background script:
chrome.runtime.sendMessage({type: 'PING'}, response => {
  console.log('PING response:', response);
});

// –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
// {pong: true, timestamp: ..., initialized: true, mlLoaded: true}
```

#### C. –¢–µ—Å—Ç ML Workers:
```javascript
// –í DevTools background script:
chrome.runtime.sendMessage({
  type: 'ANALYZE_BATTLE',
  data: {
    battleState: {
      playerCards: [{id: '1', name: 'Test', power: 7, damage: 5, clan: 'Bangers'}],
      opponentCards: [{id: '2', name: 'Enemy', power: 6, damage: 4, clan: 'All Stars'}],
      playerLife: 14, opponentLife: 14,
      playerPills: 12, opponentPills: 12,
      history: []
    }
  }
}, response => {
  console.log('Battle analysis:', response);
});
```

### 6. üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
```javascript
// –í –ª—é–±–æ–π –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
chrome.runtime.sendMessage('EXTENSION_ID_HERE', {type: 'PING'}, response => {
  console.log('Extension status:', response);
});
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ ML —Å–∏—Å—Ç–µ–º—ã:
```javascript
chrome.runtime.sendMessage('EXTENSION_ID_HERE', {type: 'GET_ML_STATUS'}, response => {
  console.log('ML status:', response);
});
```

### 7. üîß –û—Ç–ª–∞–¥–∫–∞ –ø–æ —à–∞–≥–∞–º

#### –®–∞–≥ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Service Worker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] Background script –ª–æ–≥–∏—Ä—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

#### –®–∞–≥ 2: ML Workers
- [ ] Battle Worker —Å–æ–∑–¥–∞–Ω
- [ ] Deck Worker —Å–æ–∑–¥–∞–Ω  
- [ ] Market Worker —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

#### –®–∞–≥ 3: Content Script
- [ ] –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ urban-rivals.com
- [ ] –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è

#### –®–∞–≥ 4: –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- [ ] PING —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] ML –∞–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] External messages –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è

### 8. üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

#### –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. –£–¥–∞–ª–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–∑ Chrome
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ *(–æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫–µ)*
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `npm run build`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –∏–∑ –ø–∞–ø–∫–∏ `dist/`

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:
- **Chrome –≤–µ—Ä—Å–∏—è:** –º–∏–Ω–∏–º—É–º 88+
- **Manifest V3:** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- **Permissions:** –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–∞–Ω—ã

#### –°–±–æ—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
```javascript
// –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ DevTools background script:
const diagnostics = {
  timestamp: Date.now(),
  isInitialized: isInitialized,
  mlWorkers: {
    isLoaded: mlWorkers.isLoaded,
    battleWorker: !!mlWorkers.battleWorker,
    deckWorker: !!mlWorkers.deckWorker,
    marketWorker: !!mlWorkers.marketWorker
  },
  chrome: {
    version: navigator.userAgent,
    permissions: await chrome.permissions.getAll(),
    storage: await chrome.storage.local.get()
  }
};

console.log('üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:', JSON.stringify(diagnostics, null, 2));
```

### 9. üìù –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–í–∫–ª—é—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
// –í background script DevTools:
logger.setLogLevel(0); // DEBUG level - –≤—Å–µ –ª–æ–≥–∏
```

### 10. üéØ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ —É—Å–ø–µ—Ö–∞

‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞ –µ—Å–ª–∏:**
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–∏–¥–Ω–æ –≤ `chrome://extensions/`
- Service Worker –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–∞–∫—Ç–∏–≤–µ–Ω"
- –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

‚úÖ **ML —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏:**
- `mlWorkers.isLoaded === true`
- –í—Å–µ 3 worker'a —Å–æ–∑–¥–∞–Ω—ã
- –¢–µ—Å—Ç –∞–Ω–∞–ª–∏–∑–∞ –±–æ—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é

‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏:**
- Content script –∞–∫—Ç–∏–≤–µ–Ω –Ω–∞ urban-rivals.com
- External messages –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –æ—Ç demo.html
- Popup –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:
1. **–°–∫—Ä–∏–Ω—à–æ—Ç** —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
2. **–õ–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏** background script
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç** –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–º–∞–Ω–¥—ã
4. **–í–µ—Ä—Å–∏—é Chrome** –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã 